var FEAbout={Init:function(){this.ImageTransition()},ImageTransition:function(){let e=gsap.timeline({scrollTrigger:{trigger:"#js-about",start:"top",end:"bottom bottom",scrub:!0}});e.to(".js-about-media",{ease:Sine.easeIn,width:"100%",y:0})}},FEHomepage={Init:function(){this.Clone(),this.ItemTransition(),this.LoadMore()},Clone:function(){$("#js-home-items > div").clone().appendTo("#js-home-items-cloned")},ItemTransition:function(){gsap.utils.toArray("#js-home-items >div:last-of-type .js-home-item").forEach(function(e){const n=gsap.timeline({scrollTrigger:{trigger:e,pin:!1,scrub:!0,start:"top 70%",end:"bottom top"}});var i=e.querySelector(".js-home-item-media-container"),e=e.querySelector(".js-home-item-media");n.to(e,{duration:1,opacity:1},0),n.to(i,{duration:1.5,scale:1},"-=1"),n.to(e,{duration:1,opacity:0},"+=1")})},LoadMore:function(){ScrollTrigger.create({trigger:document.body,start:"top top",end:"bottom bottom",onUpdate:e=>{.8<=e.progress.toFixed(2)&&1===e.direction&&($("#js-home-items-cloned > div").clone().appendTo("#js-home-items"),FEHomepage.ItemTransition(),ScrollTrigger.refresh())}})}},FEMedia={Init:function(){this.Navigation()},Navigation:function(){var t=0<$("a.js-media-prev").length,a=0<$("a.js-media-next").length;$("html.no-touchevents div.js-media").on("click",function(e){var n=$(this),i=n.innerWidth(),n=n.offset(),n=e.pageX-n.left;n<i/3?t&&$("a.js-media-prev")[0].click():i/3*2<n?a&&$("a.js-media-next")[0].click():$("a.js-media-close")[0].click()}),$("html.no-touchevents div.js-media").mousemove(function(e){var n=$(this),i=n.innerWidth(),e=e.pageX-$(this).offset().left;e<i/3?t?(n.removeClass("is-cursor-close").removeClass("is-cursor-next"),n.addClass("is-cursor-prev")):n.removeClass("is-cursor-prev").removeClass("is-cursor-close").removeClass("is-cursor-next"):i/3*2<e?a?(n.removeClass("is-cursor-prev").removeClass("is-cursor-close"),n.addClass("is-cursor-next")):n.removeClass("is-cursor-prev").removeClass("is-cursor-close").removeClass("is-cursor-next"):(n.removeClass("is-cursor-prev").removeClass("is-cursor-next"),n.addClass("is-cursor-close"))}),$("html.touchevents div.js-media").swipe({swipe:function(e,n){"down"===n&&$("a.js-media-close")[0].click(),"right"===n&&t&&$("a.js-media-prev")[0].click(),"left"===n&&a&&$("a.js-media-next")[0].click()}})}},FEGlobal={Init:function(e){this.PageTransitions(e=void 0===e?!1:e),this.BurgerNav(),this.NavLinks()},PageTransitions:function(e){barba.hooks.beforeLeave(function(e){$("#js-navbar").removeClass("is-active")}),barba.hooks.afterLeave(function(e){ScrollTrigger.getAll().forEach(function(e){return e.kill()})}),barba.hooks.beforeEnter(function(e){$(document).scrollTop(0)}),barba.hooks.afterEnter(function(e){setTimeout(function(){FEGlobal.MediaVisibility()},100)}),history.scrollRestoration="manual";function n(e){return(e=0===e.indexOf("//")?location.protocol+e:e).toLowerCase().replace(/([a-z])?:\/\//,"$1").split("/")[0]}barba.init({prefetchIgnore:e,prevent:function(e){return(-1<(e=e.href).indexOf(":")||-1<e.indexOf("//"))&&n(location.href)!==n(e)},timeout:1e4,transitions:[{name:"default",sync:!1,leave:function(e){var n=this.async(),e=$(e.current.container);e.addClass("is-leaving-default"),e.on("animationend",function(){n()})},enter:function(e){var n=this.async(),i=$(e.next.container);i.addClass("is-loading is-entering-default"),i.on("animationend",function(){i.removeClass("is-loading is-entering-default"),i.off("animationend"),n()})}},{name:"leave-up",from:{namespace:["media"]},to:{namespace:["listing"]},sync:!0,leave:function(e){var n=this.async(),e=$(e.current.container);e.addClass("is-leaving-up"),e.on("animationend",function(){n()})},enter:function(e){var n=this.async(),i=$(e.next.container);i.addClass("is-loading is-entering-up"),i.on("animationend",function(){i.removeClass("is-loading is-entering-up"),i.off("animationend"),n()})}},{name:"leave-left",from:{custom:({trigger:e})=>e.classList&&e.classList.contains("use-leave-left-transition")},sync:!0,leave:function(e){var n=this.async(),e=$(e.current.container);e.addClass("is-leaving-left"),e.on("animationend",function(){n()})},enter:function(e){var n=this.async(),i=$(e.next.container);i.addClass("is-loading is-entering-left"),i.on("animationend",function(){i.removeClass("is-loading is-entering-left"),i.off("animationend"),n()})}},{name:"leave-right",from:{custom:({trigger:e})=>e.classList&&e.classList.contains("use-leave-right-transition")},sync:!0,leave:function(e){var n=this.async(),e=$(e.current.container);e.addClass("is-leaving-right"),e.on("animationend",function(){n()})},enter:function(e){var n=this.async(),i=$(e.next.container);i.addClass("is-loading is-entering-right"),i.on("animationend",function(){i.removeClass("is-loading is-entering-right"),i.off("animationend"),n()})}}],views:[{namespace:"about",afterEnter:function(e){setTimeout(function(){FEAbout.Init()},100)}},{namespace:"content",afterEnter:function(e){}},{namespace:"home",afterEnter:function(e){setTimeout(function(){FEHomepage.Init()},100)}},{namespace:"listing",afterEnter:function(e){}},{namespace:"media",beforeEnter:function(e){$("body").addClass("is-media")},afterEnter:function(e){setTimeout(function(){FEMedia.Init()},100)},beforeLeave:function(e){$("body").removeClass("is-media")},afterLeave:function(e){$("div.js-media").off()}},{namespace:"widgets",afterEnter:function(e){FEAbout.Init(),FEHomepage.Init()}}]})},BurgerNav:function(){$("#js-navbar-menu-toggle").on("click",function(e){e.preventDefault();e=$("#js-navbar");e.hasClass("is-active")?e.removeClass("is-active"):e.addClass("is-active")})},NavLinks:function(){var n=$("#js-navbar");$("html.no-touchevents a.js-navbar-image-toggle").on({mouseenter:function(){var e=$(this).data("link");n.addClass("c-navbar--"+e)},mouseleave:function(){var e=$(this).data("link");n.removeClass("c-navbar--"+e)}})},MediaVisibility:function(){gsap.utils.toArray(".js-media-visibility").forEach(function(i){ScrollTrigger.create({toggleClass:"is-visible",trigger:i,onToggle:function(e){var n=i.querySelector("video");n&&(e.isActive?n.play():n.pause())}})})}},BEGlobal={Init:function(){}};
//# sourceMappingURL=global.min.js.map